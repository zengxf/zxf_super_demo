plugins {
  id "me.champeau.gradle.jmh" version "0.4.3"
}

allprojects {
    apply plugin: 'java'
    apply plugin: 'eclipse'

    group = 'me.champeau.sample'
    version = '1.0-SNAPSHOT'

    sourceCompatibility = 1.7
    targetCompatibility = 1.7

    repositories {
        maven {
            url "http://maven.aliyun.com/nexus/content/groups/public/"
	    }
	    mavenCentral()
	    mavenLocal()
    }

    dependencies {
		// lombok
		compile group: 'org.projectlombok', name: 'lombok', version: '1.16.12'
		compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25'
		compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'
		compile group: 'ch.qos.logback', name: 'logback-core', version: '1.2.3'
	}
}


apply plugin: 'me.champeau.gradle.jmh'

jmh {
    include = 'cn\\.zxf\\.jmh\\.demo1\\.Test1.*'
    humanOutputFile = null
    warmupIterations = 1
    iterations = 1
}

// it is possible to tweak the jmhJar task directly
jmhJar.baseName = 'custom'

subprojects {
    apply plugin: 'me.champeau.gradle.jmh'

    jmh {
        include = 'cn\\.zxf\\.jmh\\.demo1\\.Test1.*'
        humanOutputFile = null
        warmupIterations = 1
        iterations = 1
    }

}